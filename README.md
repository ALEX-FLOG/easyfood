> ## 背景

​		疫情期间上海一菜难求，手机屏幕点破了仍然拥挤中...

​		无奈之下只能写入此程序解决部分问题，初衷仅时帮助广大群众及自身能填饱肚子
<br/> 

**此程序已帮助身边人都吃到菜了，感谢叮咚买菜** 
<br/>
            
本程序有以下亮点

   * 定时抢菜 (可自定义 cron 规则触发指定任务）

   * 提前预热 

     （默认状态下在抢菜前半小时会每隔 20 秒轮询购物车内 **可用商品/可用配送时间/地址** 进行缓存，以防止高峰期出现获取商品拥堵状况，尽可能保证抢菜直接下单已尽可能最快速度进行抢菜）

   * 多线程多时间抢菜 

     （默认状况下，一旦商品加入购物车内，只要有 **可用配送时间将会相同产品 选择不同配送时间同时提交** ，此功能作用显而易见为了方式由于高峰期抢菜导致以往可用实现失效状况 极大程度上提升了抢菜的成功效率）

   * 可扩展性/维护性 高 （开发者可根据自己需求进行扩展）

   * 容错相对较高（根据返回结果对应删除缓存及相对调整策略）
   
   * 自定义选择地址关键词

> ## 快速开始			

​		安装 jdk1.8 && maven 自行百度配置相对简单

 1. ```
    mvn clean & mvn install
    //stage target中获取 w-easy-food-stage.jar 启动
    nohup java -jar w-easy-food-stage.jar
    ```

 2. 自行通过idea启动

### 依赖中间件

		1. redis（用于缓存，默认开启建议使用，能减少访问频率增加抢菜成功率 没有的话可以从阿某云弄个按时的）
		1. mysql（用于数据存储，没有的话可以去 某信云托管 白嫖一个临时使用 ）
		1. maven（用于包管理，未安装请自行度娘安装）

### 配置说明

在 application-prod.yml 中 **wjj.worker.easyfood** 节点对应者程序运行的关键配置熟悉		

| 属性           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| notifyUrl      | 抢购结果通知，苹果推荐使用(Bark) / 安卓可使用server酱或其他方式可自行选择 <br />  默认发送时按照 https://xxx.xxx/标题/内容  方式发送 |
| addressKeyWord | 你的地址关键词关键词对应叮咚买菜中的 "门牌号" 模糊搜索       |
| userId         | 用户ID通关抓包获取（抓包行为不再过多叙述，不懂的可自行百度获取对应软件然后打开叮咚买菜小程序查询看对应数据）对应 请求中 header “ddmc-uid” 字段 |
| userToken      | 用户token通过抓包获取 对应请求中 DDXQSESSID 字段，此字段有效期较短实测大概在2天这样，请自行check及时更换 |

> ## 版权说明

**本项目为 GPL3.0 协议，请所有进行二次开发的开发者遵守 GPL3.0协议，并且不得将代码用于一切商用。**

**创作不易，如帮助到你了，请点个 star 或 赞助开发者  手动狗头**

> ## 免责声明
**本项目仅供学习交流参考，一切由于其他开发者本身违法行为及商业侵权行为与本人无关**

**如侵权/及其他行为 请加v BeerGod1127 联系 备注来意**
